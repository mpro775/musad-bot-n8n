_# Runbook: Webhook Signature Failures

## الأعراض

- ارتفاع في عدد أخطاء 4xx المتعلقة بالويب هوك في Grafana.
- تنبيهات من Alertmanager تشير إلى `WebhookSignatureFailures`.
- فشل في استلام البيانات من خدمات خارجية عبر الويب هوك.

## تشخيص

1.  **تحقق من سجلات التطبيق:** ابحث عن رسائل خطأ تشير إلى "Invalid signature" أو "Signature verification failed".
2.  **مراجعة إعدادات الويب هوك:** تحقق من صحة `appSecret` أو `secretToken` المستخدم للتحقق من التوقيع.
3.  **التحقق من مصدر الطلب:** تأكد من أن الطلبات تأتي من المصادر الموثوقة وأنها تستخدم خوارزمية التوقيع الصحيحة.

## حلول فورية

-   **تصحيح `appSecret`:** إذا كان `appSecret` غير صحيح، قم بتحديثه بالقيمة الصحيحة.
-   **التواصل مع مزود الخدمة:** إذا كانت المشكلة من جانب مزود الخدمة، تواصل معهم لحل المشكلة.

## حلول دائمة

-   **توحيد عملية التحقق من التوقيع:** قم بإنشاء خدمة موحدة للتحقق من توقيعات الويب هوك لضمان الاتساق.
-   **إضافة المزيد من السجلات:** قم بإضافة سجلات مفصلة لتسهيل تشخيص مشاكل التوقيع في المستقبل.

## Postmortem

-   **تحليل السبب الجذري:** قم بتوثيق السبب الجذري للمشكلة.
-   **الإجراءات المتخذة:** وثق الإجراءات التي تم اتخاذها لحل المشكلة.
-   **الدروس المستفادة:** سجل الدروس المستفادة لمنع تكرار المشكلة في المستقبل.

